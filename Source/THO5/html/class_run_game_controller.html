<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lasergame: RunGameController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lasergame
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_run_game_controller.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_run_game_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RunGameController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This task controls the game.  
 <a href="class_run_game_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_run_game_controller_8hpp_source.html">RunGameController.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RunGameController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_run_game_controller.png" usemap="#RunGameController_map" alt=""/>
  <map id="RunGameController_map" name="RunGameController_map">
<area href="class_keypad_listener.html" title="A simple interface that enables the keypadHandler to take in as a listener(observer) ..." alt="KeypadListener" shape="rect" coords="132,0,254,24"/>
<area href="class_receive_listener.html" title="An interface for classes that want to react to received IR messages. " alt="ReceiveListener" shape="rect" coords="264,0,386,24"/>
<area href="class_key_consume.html" title="This class offers default methods that can be implemented to handle certain keypad presses..." alt="KeyConsume" shape="rect" coords="396,0,518,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb945fcd653d7a213b701d07732d8de1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_run_game_controller.html#acb945fcd653d7a213b701d07732d8de1">RunGameController</a> (<a class="el" href="class_keypad_controller.html">KeypadController</a> &amp;kpC, <a class="el" href="class_i_sound.html">ISound</a> &amp;sound, <a class="el" href="class_o_l_e_d_boundary.html">OLEDBoundary</a> &amp;oledBoundary, <a class="el" href="classplayer_information.html">playerInformation</a> &amp;playerInfo, <a class="el" href="structirentity.html">irentity</a> &amp;irE, unsigned int priority)</td></tr>
<tr class="memdesc:acb945fcd653d7a213b701d07732d8de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an instance with the specified controllers and boundaries along with a reference to the <a class="el" href="classplayer_information.html" title="The only instance of this class is used to communicate the player information between tasks...">playerInformation</a> instance, the irentity instance and a priority.  <a href="#acb945fcd653d7a213b701d07732d8de1">More...</a><br /></td></tr>
<tr class="separator:acb945fcd653d7a213b701d07732d8de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012269336c70bf7740fb3483515dd088"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_run_game_controller.html#a012269336c70bf7740fb3483515dd088">handleMessageKey</a> (char c)</td></tr>
<tr class="memdesc:a012269336c70bf7740fb3483515dd088"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called by the KeyPadController when a key is pressed. It writes the c to an internal pool and sets a flag signalling to the main function that a key was pressed.  <a href="#a012269336c70bf7740fb3483515dd088">More...</a><br /></td></tr>
<tr class="separator:a012269336c70bf7740fb3483515dd088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fba7d49490567d2e7fa2174dbf80776"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_run_game_controller.html#a4fba7d49490567d2e7fa2174dbf80776">receivedMsgstd</a> (const std::array&lt; char, 2 &gt; &amp;msg) override</td></tr>
<tr class="memdesc:a4fba7d49490567d2e7fa2174dbf80776"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called by ReceiverController upon receiving an IR message. Simply writes <code>msg</code> to an internal pool and sets a flag that a message has been received.  <a href="#a4fba7d49490567d2e7fa2174dbf80776">More...</a><br /></td></tr>
<tr class="separator:a4fba7d49490567d2e7fa2174dbf80776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba0d748efb19f8f3c64d88ecca7a6d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_run_game_controller.html#a9ba0d748efb19f8f3c64d88ecca7a6d9">startGame</a> (byte durationMin)</td></tr>
<tr class="memdesc:a9ba0d748efb19f8f3c64d88ecca7a6d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This sets the start flag and writes the specified duration to an internal pool. The main function first waits for this flag to be set before doing anything else. Calling this function constitutes activating the task. The task will never wait again on this flag.  <a href="#a9ba0d748efb19f8f3c64d88ecca7a6d9">More...</a><br /></td></tr>
<tr class="separator:a9ba0d748efb19f8f3c64d88ecca7a6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This task controls the game. </p>
<dl class="section author"><dt>Author</dt><dd>Matthijs Vos </dd>
<dd>
Peter Bonnema </dd>
<dd>
Ferdi Stoeltie </dd></dl>
<dl class="section date"><dt>Date</dt><dd>25/07/2017</dd></dl>
<p>It reacts to being hit by another player, reacting to keyboard input to shoot and it keeps track of the remaining game time and health. When either the game time is up or the player has no health left it goes into a game over state where it waits for a command from a computer via USB to write all the registered hits to the computer. </p>

<p class="definition">Definition at line <a class="el" href="_run_game_controller_8hpp_source.html#l00067">67</a> of file <a class="el" href="_run_game_controller_8hpp_source.html">RunGameController.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acb945fcd653d7a213b701d07732d8de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb945fcd653d7a213b701d07732d8de1">&#9670;&nbsp;</a></span>RunGameController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RunGameController::RunGameController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_keypad_controller.html">KeypadController</a> &amp;&#160;</td>
          <td class="paramname"><em>kpC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_sound.html">ISound</a> &amp;&#160;</td>
          <td class="paramname"><em>sound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_l_e_d_boundary.html">OLEDBoundary</a> &amp;&#160;</td>
          <td class="paramname"><em>oledBoundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer_information.html">playerInformation</a> &amp;&#160;</td>
          <td class="paramname"><em>playerInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structirentity.html">irentity</a> &amp;&#160;</td>
          <td class="paramname"><em>irE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an instance with the specified controllers and boundaries along with a reference to the <a class="el" href="classplayer_information.html" title="The only instance of this class is used to communicate the player information between tasks...">playerInformation</a> instance, the irentity instance and a priority. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kpC</td><td></td></tr>
    <tr><td class="paramname">sound</td><td></td></tr>
    <tr><td class="paramname">oledBoundary</td><td></td></tr>
    <tr><td class="paramname">playerInfo</td><td>The shared <a class="el" href="classplayer_information.html" title="The only instance of this class is used to communicate the player information between tasks...">playerInformation</a> instance through which controllers communicate the player id and weapon id. </td></tr>
    <tr><td class="paramname">irE</td><td></td></tr>
    <tr><td class="paramname">priority</td><td>The task priority. Lower is higher priority. See the documentation of the rtos. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_run_game_controller_8cpp_source.html#l00013">13</a> of file <a class="el" href="_run_game_controller_8cpp_source.html">RunGameController.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a012269336c70bf7740fb3483515dd088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012269336c70bf7740fb3483515dd088">&#9670;&nbsp;</a></span>handleMessageKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RunGameController::handleMessageKey </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called by the KeyPadController when a key is pressed. It writes the c to an internal pool and sets a flag signalling to the main function that a key was pressed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The pressed key </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_keypad_listener.html">KeypadListener</a>.</p>

</div>
</div>
<a id="a4fba7d49490567d2e7fa2174dbf80776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fba7d49490567d2e7fa2174dbf80776">&#9670;&nbsp;</a></span>receivedMsgstd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RunGameController::receivedMsgstd </td>
          <td>(</td>
          <td class="paramtype">const std::array&lt; char, 2 &gt; &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called by ReceiverController upon receiving an IR message. Simply writes <code>msg</code> to an internal pool and sets a flag that a message has been received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message received. The first byte is the player id of the sender and the second byte is the weapon id (or other data in case of a special command). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_receive_listener.html#a9193cdd368242b564f15f95f5c76a4b0">ReceiveListener</a>.</p>

</div>
</div>
<a id="a9ba0d748efb19f8f3c64d88ecca7a6d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba0d748efb19f8f3c64d88ecca7a6d9">&#9670;&nbsp;</a></span>startGame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RunGameController::startGame </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>durationMin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This sets the start flag and writes the specified duration to an internal pool. The main function first waits for this flag to be set before doing anything else. Calling this function constitutes activating the task. The task will never wait again on this flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">durationMin</td><td>The length of the game in minutes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Lasergame/src/<a class="el" href="_run_game_controller_8hpp_source.html">RunGameController.hpp</a></li>
<li>Lasergame/src/<a class="el" href="_run_game_controller_8cpp_source.html">RunGameController.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_run_game_controller.html">RunGameController</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
