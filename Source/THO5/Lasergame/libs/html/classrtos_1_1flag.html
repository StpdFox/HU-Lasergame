<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V2THDE libraries: rtos::flag Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V2THDE libraries
   </div>
   <div id="projectbrief">C++ library for V2THDE</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="classrtos.html">rtos</a></li><li class="navelem"><a class="el" href="classrtos_1_1flag.html">flag</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classrtos_1_1flag-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rtos::flag Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>basic synchronisation mechanism.  
 <a href="classrtos_1_1flag.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rtos_8hpp_source.html">rtos.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for rtos::flag:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classrtos_1_1flag.png" usemap="#rtos::flag_map" alt=""/>
  <map id="rtos::flag_map" name="rtos::flag_map">
<area href="classrtos_1_1waitable.html" title="abstract thing that a task can wait for " alt="rtos::waitable" shape="rect" coords="0,56,85,80"/>
<area href="classrtos_1_1event.html" title="set of things that can happen, or a thing that has happened " alt="rtos::event" shape="rect" coords="0,0,85,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af4fa671e37438103a9f12f7e0c87a6b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1flag.html#af4fa671e37438103a9f12f7e0c87a6b2">flag</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a>, const char *name=&quot;&quot;)</td></tr>
<tr class="memdesc:af4fa671e37438103a9f12f7e0c87a6b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, specify onwer and name  <a href="#af4fa671e37438103a9f12f7e0c87a6b2">More...</a><br /></td></tr>
<tr class="separator:af4fa671e37438103a9f12f7e0c87a6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2b78e288be5a3620a4f571b69f5e0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1flag.html#a0d2b78e288be5a3620a4f571b69f5e0a">set</a> ()</td></tr>
<tr class="memdesc:a0d2b78e288be5a3620a4f571b69f5e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the flag  <a href="#a0d2b78e288be5a3620a4f571b69f5e0a">More...</a><br /></td></tr>
<tr class="separator:a0d2b78e288be5a3620a4f571b69f5e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d480ceb4cb1712557e080989e7fc57"><td class="memItemLeft" align="right" valign="top"><a id="af6d480ceb4cb1712557e080989e7fc57"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1flag.html#af6d480ceb4cb1712557e080989e7fc57">print</a> (<a class="el" href="classhwlib_1_1ostream.html">hwlib::ostream</a> &amp;s, bool header=true) const</td></tr>
<tr class="memdesc:af6d480ceb4cb1712557e080989e7fc57"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints flag infomation (for debugging) <br /></td></tr>
<tr class="separator:af6d480ceb4cb1712557e080989e7fc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrtos_1_1waitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrtos_1_1waitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrtos_1_1waitable.html">rtos::waitable</a></td></tr>
<tr class="memitem:a4571df4fc41d342cce418d591e0a9bdd inherit pub_methods_classrtos_1_1waitable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#a4571df4fc41d342cce418d591e0a9bdd">clear</a> ()</td></tr>
<tr class="memdesc:a4571df4fc41d342cce418d591e0a9bdd inherit pub_methods_classrtos_1_1waitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the waitable  <a href="classrtos_1_1waitable.html#a4571df4fc41d342cce418d591e0a9bdd">More...</a><br /></td></tr>
<tr class="separator:a4571df4fc41d342cce418d591e0a9bdd inherit pub_methods_classrtos_1_1waitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:a9a9a629362b8045efbee2c0148f130e5 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a9a9a629362b8045efbee2c0148f130e5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a9a9a629362b8045efbee2c0148f130e5">print</a> (<a class="el" href="classhwlib_1_1ostream.html">hwlib::ostream</a> &amp;s) const</td></tr>
<tr class="memdesc:a9a9a629362b8045efbee2c0148f130e5 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints an event, for debugging only <br /></td></tr>
<tr class="separator:a9a9a629362b8045efbee2c0148f130e5 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197ddf967072fb7a919b1f79e186814c inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a197ddf967072fb7a919b1f79e186814c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a197ddf967072fb7a919b1f79e186814c">operator==</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const</td></tr>
<tr class="memdesc:a197ddf967072fb7a919b1f79e186814c inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report wether two events are the same <br /></td></tr>
<tr class="separator:a197ddf967072fb7a919b1f79e186814c inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c89dc87058b478846681ee547342ba inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a30c89dc87058b478846681ee547342ba"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a30c89dc87058b478846681ee547342ba">operator==</a> (const <a class="el" href="classrtos_1_1waitable.html">waitable</a> &amp;rhs) const</td></tr>
<tr class="memdesc:a30c89dc87058b478846681ee547342ba inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report whether an event corresponds to a waitable <br /></td></tr>
<tr class="separator:a30c89dc87058b478846681ee547342ba inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f84d5871019b7fd2fe7b1478d04adf inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a08f84d5871019b7fd2fe7b1478d04adf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a08f84d5871019b7fd2fe7b1478d04adf">operator!=</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const</td></tr>
<tr class="memdesc:a08f84d5871019b7fd2fe7b1478d04adf inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report wether two events are not the same <br /></td></tr>
<tr class="separator:a08f84d5871019b7fd2fe7b1478d04adf inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb82b3ccb31d165c1bbe50383b059d9 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="aacb82b3ccb31d165c1bbe50383b059d9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aacb82b3ccb31d165c1bbe50383b059d9">operator!=</a> (const <a class="el" href="classrtos_1_1waitable.html">waitable</a> &amp;rhs) const</td></tr>
<tr class="memdesc:aacb82b3ccb31d165c1bbe50383b059d9 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report whether an event does not correspond to a waitable <br /></td></tr>
<tr class="separator:aacb82b3ccb31d165c1bbe50383b059d9 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5937976d294862f77b1ea38a62fb693 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtos_1_1event.html">event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa5937976d294862f77b1ea38a62fb693">operator+</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const</td></tr>
<tr class="memdesc:aa5937976d294862f77b1ea38a62fb693 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">add two waitables, result can be used in a wait() call  <a href="classrtos_1_1event.html#aa5937976d294862f77b1ea38a62fb693">More...</a><br /></td></tr>
<tr class="separator:aa5937976d294862f77b1ea38a62fb693 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2a7bcfc34141352757ad672e3ecd099f"><td class="memItemLeft" align="right" valign="top"><a id="a2a7bcfc34141352757ad672e3ecd099f"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>rtos</b></td></tr>
<tr class="separator:a2a7bcfc34141352757ad672e3ecd099f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classrtos_1_1waitable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrtos_1_1waitable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrtos_1_1waitable.html">rtos::waitable</a></td></tr>
<tr class="memitem:aec600b639ba55717731d3c6cfe6ff8e6 inherit pro_methods_classrtos_1_1waitable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#aec600b639ba55717731d3c6cfe6ff8e6">waitable</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1task.html">task</a>, const char *name)</td></tr>
<tr class="memdesc:aec600b639ba55717731d3c6cfe6ff8e6 inherit pro_methods_classrtos_1_1waitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, specify owner and name  <a href="classrtos_1_1waitable.html#aec600b639ba55717731d3c6cfe6ff8e6">More...</a><br /></td></tr>
<tr class="separator:aec600b639ba55717731d3c6cfe6ff8e6 inherit pro_methods_classrtos_1_1waitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef912480d9662171607aac42f7e4bbb inherit pro_methods_classrtos_1_1waitable"><td class="memItemLeft" align="right" valign="top"><a id="a6ef912480d9662171607aac42f7e4bbb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#a6ef912480d9662171607aac42f7e4bbb">set</a> ()</td></tr>
<tr class="memdesc:a6ef912480d9662171607aac42f7e4bbb inherit pro_methods_classrtos_1_1waitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the waitable <br /></td></tr>
<tr class="separator:a6ef912480d9662171607aac42f7e4bbb inherit pro_methods_classrtos_1_1waitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a6cbf4e72e1d4ab312b3901ed54f4d48e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a6cbf4e72e1d4ab312b3901ed54f4d48e">event</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a>, unsigned int <a class="el" href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">mask</a>)</td></tr>
<tr class="memdesc:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, used by concrete events <br /></td></tr>
<tr class="separator:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="aa83745aabc941145f00386fd63f6b557"></a>
<a class="el" href="classrtos_1_1task__base.html">task_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a></td></tr>
<tr class="memdesc:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">the owner task <br /></td></tr>
<tr class="separator:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">mask</a></td></tr>
<tr class="memdesc:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mask of this event, one bit is set  <a href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">More...</a><br /></td></tr>
<tr class="separator:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>basic synchronisation mechanism. </p>
<p>The basic synchronization mechanism is the (event) flag. Like all waitables, a flag is created for a particular task. A flag is set by a <a class="el" href="classrtos_1_1flag.html#a0d2b78e288be5a3620a4f571b69f5e0a" title="sets the flag ">flag::set()</a> call (or the task::set( flag) call, which has the same effect). Like all waitables, when a task is waiting for a flag (using a <a class="el" href="classrtos_1_1task__base.html#a32c6e19fe3d25a38587964defdb52ddc" title="wait for all waitables created for this task ">task::wait</a> call) and that flag becomes set, the wait call will clear the flag, and return an event that compares equal to the flag. Note that a flag does not count: setting a flag that is already set has no effect on the flag.</p>
<p>A flag must be created for a specific task. The normal place to do this is in the task's creator. An flag is initially cleared.</p>
<p>The example below shows a led_task that responds to two event flags. The shift flag will cause it to shift the pattern on the LEDs one position to the left, while the invert flag will cause it to invert the pattern. Two addional tasks do notghing but set these flags at fixed intervals. The result is a sort of one-direction Kitt display, which will occasionally flip polarity. Note that in this example the wait call excplicitly mentions the flags it waits for. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af4fa671e37438103a9f12f7e0c87a6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4fa671e37438103a9f12f7e0c87a6b2">&#9670;&nbsp;</a></span>flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rtos::flag::flag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrtos_1_1task__base.html">task_base</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructor, specify onwer and name </p>
<p>This call creates a flag for task t. The name is used for debugging and statistics. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0d2b78e288be5a3620a4f571b69f5e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d2b78e288be5a3620a4f571b69f5e0a">&#9670;&nbsp;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtos::flag::set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets the flag </p>
<p>Setting a flag causes the task that waits for this flag to be awakened. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="rtos_8hpp_source.html">rtos.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 29 2017 16:30:24 for V2THDE libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
