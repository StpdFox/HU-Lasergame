<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V2THDE libraries: rtos::channel&lt; T, SIZE &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V2THDE libraries
   </div>
   <div id="projectbrief">C++ library for V2THDE</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="classrtos.html">rtos</a></li><li class="navelem"><a class="el" href="classrtos_1_1channel.html">channel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classrtos_1_1channel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rtos::channel&lt; T, SIZE &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>waitable data queue  
 <a href="classrtos_1_1channel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rtos_8hpp_source.html">rtos.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for rtos::channel&lt; T, SIZE &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classrtos_1_1channel.png" usemap="#rtos::channel_3C_20T_2C_20SIZE_20_3E_map" alt=""/>
  <map id="rtos::channel_3C_20T_2C_20SIZE_20_3E_map" name="rtos::channel_3C_20T_2C_20SIZE_20_3E_map">
<area href="classrtos_1_1channel__base.html" title="rtos private implementation class " alt="rtos::channel_base" shape="rect" coords="0,112,152,136"/>
<area href="classrtos_1_1waitable.html" title="abstract thing that a task can wait for " alt="rtos::waitable" shape="rect" coords="0,56,152,80"/>
<area href="classrtos_1_1event.html" title="set of things that can happen, or a thing that has happened " alt="rtos::event" shape="rect" coords="0,0,152,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a87ceb9b710e5f20399ff35be85b21bd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1channel.html#a87ceb9b710e5f20399ff35be85b21bd4">channel</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a>, const char *name=&quot;&quot;)</td></tr>
<tr class="memdesc:a87ceb9b710e5f20399ff35be85b21bd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, specify stored type, number of entries, and name  <a href="#a87ceb9b710e5f20399ff35be85b21bd4">More...</a><br /></td></tr>
<tr class="separator:a87ceb9b710e5f20399ff35be85b21bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad188535be39b5884f69e3eb8edf070d4"><td class="memItemLeft" align="right" valign="top"><a id="ad188535be39b5884f69e3eb8edf070d4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1channel.html#ad188535be39b5884f69e3eb8edf070d4">write</a> (T item)</td></tr>
<tr class="memdesc:ad188535be39b5884f69e3eb8edf070d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">write an item to the queue <br /></td></tr>
<tr class="separator:ad188535be39b5884f69e3eb8edf070d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19a4d179e9274aab49b52200e1808ab"><td class="memItemLeft" align="right" valign="top"><a id="ad19a4d179e9274aab49b52200e1808ab"></a>
T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1channel.html#ad19a4d179e9274aab49b52200e1808ab">read</a> ()</td></tr>
<tr class="memdesc:ad19a4d179e9274aab49b52200e1808ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">read an item from the queue; block if no item is available <br /></td></tr>
<tr class="separator:ad19a4d179e9274aab49b52200e1808ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a86102d13f98ef7258a3fadbc881abd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1channel.html#a0a86102d13f98ef7258a3fadbc881abd">clear</a> (void)</td></tr>
<tr class="memdesc:a0a86102d13f98ef7258a3fadbc881abd"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the waitable  <a href="#a0a86102d13f98ef7258a3fadbc881abd">More...</a><br /></td></tr>
<tr class="separator:a0a86102d13f98ef7258a3fadbc881abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrtos_1_1channel__base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrtos_1_1channel__base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrtos_1_1channel__base.html">rtos::channel_base</a></td></tr>
<tr class="memitem:ab7479106c43910e2a964e431fcbb9ede inherit pub_methods_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="ab7479106c43910e2a964e431fcbb9ede"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> (<a class="el" href="classhwlib_1_1ostream.html">hwlib::ostream</a> &amp;s, bool header=true) const</td></tr>
<tr class="separator:ab7479106c43910e2a964e431fcbb9ede inherit pub_methods_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:a9a9a629362b8045efbee2c0148f130e5 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a9a9a629362b8045efbee2c0148f130e5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a9a9a629362b8045efbee2c0148f130e5">print</a> (<a class="el" href="classhwlib_1_1ostream.html">hwlib::ostream</a> &amp;s) const</td></tr>
<tr class="memdesc:a9a9a629362b8045efbee2c0148f130e5 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints an event, for debugging only <br /></td></tr>
<tr class="separator:a9a9a629362b8045efbee2c0148f130e5 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197ddf967072fb7a919b1f79e186814c inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a197ddf967072fb7a919b1f79e186814c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a197ddf967072fb7a919b1f79e186814c">operator==</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const</td></tr>
<tr class="memdesc:a197ddf967072fb7a919b1f79e186814c inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report wether two events are the same <br /></td></tr>
<tr class="separator:a197ddf967072fb7a919b1f79e186814c inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c89dc87058b478846681ee547342ba inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a30c89dc87058b478846681ee547342ba"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a30c89dc87058b478846681ee547342ba">operator==</a> (const <a class="el" href="classrtos_1_1waitable.html">waitable</a> &amp;rhs) const</td></tr>
<tr class="memdesc:a30c89dc87058b478846681ee547342ba inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report whether an event corresponds to a waitable <br /></td></tr>
<tr class="separator:a30c89dc87058b478846681ee547342ba inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f84d5871019b7fd2fe7b1478d04adf inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a08f84d5871019b7fd2fe7b1478d04adf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a08f84d5871019b7fd2fe7b1478d04adf">operator!=</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const</td></tr>
<tr class="memdesc:a08f84d5871019b7fd2fe7b1478d04adf inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report wether two events are not the same <br /></td></tr>
<tr class="separator:a08f84d5871019b7fd2fe7b1478d04adf inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb82b3ccb31d165c1bbe50383b059d9 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="aacb82b3ccb31d165c1bbe50383b059d9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aacb82b3ccb31d165c1bbe50383b059d9">operator!=</a> (const <a class="el" href="classrtos_1_1waitable.html">waitable</a> &amp;rhs) const</td></tr>
<tr class="memdesc:aacb82b3ccb31d165c1bbe50383b059d9 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report whether an event does not correspond to a waitable <br /></td></tr>
<tr class="separator:aacb82b3ccb31d165c1bbe50383b059d9 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5937976d294862f77b1ea38a62fb693 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtos_1_1event.html">event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa5937976d294862f77b1ea38a62fb693">operator+</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const</td></tr>
<tr class="memdesc:aa5937976d294862f77b1ea38a62fb693 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">add two waitables, result can be used in a wait() call  <a href="classrtos_1_1event.html#aa5937976d294862f77b1ea38a62fb693">More...</a><br /></td></tr>
<tr class="separator:aa5937976d294862f77b1ea38a62fb693 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classrtos_1_1channel__base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrtos_1_1channel__base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrtos_1_1channel__base.html">rtos::channel_base</a></td></tr>
<tr class="memitem:a9dc28836c33737a1c14d3cac0263d07c inherit pro_methods_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="a9dc28836c33737a1c14d3cac0263d07c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>channel_base</b> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a>, const char *name)</td></tr>
<tr class="separator:a9dc28836c33737a1c14d3cac0263d07c inherit pro_methods_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classrtos_1_1waitable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrtos_1_1waitable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrtos_1_1waitable.html">rtos::waitable</a></td></tr>
<tr class="memitem:aec600b639ba55717731d3c6cfe6ff8e6 inherit pro_methods_classrtos_1_1waitable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#aec600b639ba55717731d3c6cfe6ff8e6">waitable</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1task.html">task</a>, const char *name)</td></tr>
<tr class="memdesc:aec600b639ba55717731d3c6cfe6ff8e6 inherit pro_methods_classrtos_1_1waitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, specify owner and name  <a href="classrtos_1_1waitable.html#aec600b639ba55717731d3c6cfe6ff8e6">More...</a><br /></td></tr>
<tr class="separator:aec600b639ba55717731d3c6cfe6ff8e6 inherit pro_methods_classrtos_1_1waitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef912480d9662171607aac42f7e4bbb inherit pro_methods_classrtos_1_1waitable"><td class="memItemLeft" align="right" valign="top"><a id="a6ef912480d9662171607aac42f7e4bbb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#a6ef912480d9662171607aac42f7e4bbb">set</a> ()</td></tr>
<tr class="memdesc:a6ef912480d9662171607aac42f7e4bbb inherit pro_methods_classrtos_1_1waitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the waitable <br /></td></tr>
<tr class="separator:a6ef912480d9662171607aac42f7e4bbb inherit pro_methods_classrtos_1_1waitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="a6cbf4e72e1d4ab312b3901ed54f4d48e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a6cbf4e72e1d4ab312b3901ed54f4d48e">event</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a>, unsigned int <a class="el" href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">mask</a>)</td></tr>
<tr class="memdesc:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, used by concrete events <br /></td></tr>
<tr class="separator:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classrtos_1_1channel__base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classrtos_1_1channel__base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classrtos_1_1channel__base.html">rtos::channel_base</a></td></tr>
<tr class="memitem:a3bf6e1331394d5ab745a3a7ed379350c inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="a3bf6e1331394d5ab745a3a7ed379350c"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>channel_name</b></td></tr>
<tr class="separator:a3bf6e1331394d5ab745a3a7ed379350c inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa1e6fec7ef127baa8d5e4582c96eb6 inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="a5fa1e6fec7ef127baa8d5e4582c96eb6"></a>
<a class="el" href="classrtos_1_1channel__base.html">channel_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>next_channel</b></td></tr>
<tr class="separator:a5fa1e6fec7ef127baa8d5e4582c96eb6 inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4e395fcddb620239e68aacc53711d7 inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="acf4e395fcddb620239e68aacc53711d7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>writes</b></td></tr>
<tr class="separator:acf4e395fcddb620239e68aacc53711d7 inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd92b2936e1e9b33990a59705e8b24f inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="a0dd92b2936e1e9b33990a59705e8b24f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ignores</b></td></tr>
<tr class="separator:a0dd92b2936e1e9b33990a59705e8b24f inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7974548c1d1d39b09604640810d22cd inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="ac7974548c1d1d39b09604640810d22cd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>qSize</b></td></tr>
<tr class="separator:ac7974548c1d1d39b09604640810d22cd inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1e9fd7c97df262cdce5c2fc084148d inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="a9a1e9fd7c97df262cdce5c2fc084148d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>head</b></td></tr>
<tr class="separator:a9a1e9fd7c97df262cdce5c2fc084148d inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220c246220377d32026f5d26c352b3dd inherit pro_attribs_classrtos_1_1channel__base"><td class="memItemLeft" align="right" valign="top"><a id="a220c246220377d32026f5d26c352b3dd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>tail</b></td></tr>
<tr class="separator:a220c246220377d32026f5d26c352b3dd inherit pro_attribs_classrtos_1_1channel__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a id="aa83745aabc941145f00386fd63f6b557"></a>
<a class="el" href="classrtos_1_1task__base.html">task_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a></td></tr>
<tr class="memdesc:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">the owner task <br /></td></tr>
<tr class="separator:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">mask</a></td></tr>
<tr class="memdesc:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mask of this event, one bit is set  <a href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">More...</a><br /></td></tr>
<tr class="separator:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T, const int SIZE&gt;<br />
class rtos::channel&lt; T, SIZE &gt;</h3>

<p>waitable data queue </p>
<p>The (communication) channel is a template class that stores a queue of values. Values can be written at the tail of the queue, up to the number of entries for which the channel was created. It is an error to write to a channel that is full. Writes are not blocking. Any task can write to a channel.</p>
<p>A channel is created for a particular task. Only this owner task can read from the channel. A read will block until an entry is available. Reads are from the head of the queue.</p>
<p>A channel is a waitable, so the task that owns the channel can wait for the channel to be non-empty, after which a read from a channel will be non-blocking (because the channel is not empty). After a wait() that returns the channel's event, the channel will set itself again (because the wait did not cause it to become empty). Only a read that results in an empty queue will clear the channel.</p>
<p>The example below shows how writing to cout can be buffered by first writing to a 2kB channel, and reading from that channel at a maximum of one character per 2 MS. The UART hardware in the LPC2148 chip buffers one character, which at default baudrate (38k4) takes ~ 1 MS to write. So by writing at a maximum rate of one character per 2 MS no blocking will occur.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>output_class : <span class="keyword">public</span> task {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">   channel&lt; char, 2048 &gt; buffer( <span class="keyword">this</span>, <span class="stringliteral">&quot;buffer&quot;</span> );</div><div class="line">   timer hartbeat( <span class="keyword">this</span>, <span class="stringliteral">&quot;hartbeat&quot;</span> );</div><div class="line">   <span class="keywordtype">void</span> main(){</div><div class="line">      <span class="keywordflow">for</span>( ; ; ) {</div><div class="line">         wait( buffer );</div><div class="line">         <a class="code" href="hwlib-ostream_8hpp.html#ac985c212834e4eb219aedede6efff2dc">cout</a> &lt;&lt; buffer.get();</div><div class="line">         timer.set( 2 MS );</div><div class="line">         wait( timer );</div><div class="line">     }</div><div class="line">   }</div><div class="line">}</div><div class="line"></div><div class="line">output_class output;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print( <span class="keywordtype">char</span> * s ){</div><div class="line">   <span class="keywordflow">while</span>( *s != <span class="charliteral">&#39;\0&#39;</span> ) { output.buffer.write( *s++ ); }</div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a87ceb9b710e5f20399ff35be85b21bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ceb9b710e5f20399ff35be85b21bd4">&#9670;&nbsp;</a></span>channel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , const int SIZE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrtos_1_1channel.html">rtos::channel</a>&lt; T, SIZE &gt;::<a class="el" href="classrtos_1_1channel.html">channel</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrtos_1_1task__base.html">task_base</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>constructor, specify stored type, number of entries, and name </p>
<p>The template argument T must be a class that has a non-arguments constructor and supports assignment. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0a86102d13f98ef7258a3fadbc881abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a86102d13f98ef7258a3fadbc881abd">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , const int SIZE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrtos_1_1channel.html">rtos::channel</a>&lt; T, SIZE &gt;::clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>clear the waitable </p>
<p>This is automatically doen when the waitable causes a <a class="el" href="classrtos_1_1task__base.html#a32c6e19fe3d25a38587964defdb52ddc" title="wait for all waitables created for this task ">task::wait()</a> call to return it. </p>

<p>Reimplemented from <a class="el" href="classrtos_1_1waitable.html#a4571df4fc41d342cce418d591e0a9bdd">rtos::waitable</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="rtos_8hpp_source.html">rtos.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 29 2017 16:30:24 for V2THDE libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
